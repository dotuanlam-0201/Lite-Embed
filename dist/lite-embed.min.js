!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).LiteEmbed={})}(this,function(e){"use strict";class t extends HTMLElement{videoId=null;isWarmed=!1;constructor(){super()}connectedCallback(){this.renderPreview(),this.setupObserver(),this.addEventListener("click",this.addIframe,{once:!0})}renderPreview(){this.attachShadow({mode:"open"}).innerHTML=`<style>\n        :host { display: block; cursor: pointer; position: relative; background: #000; }\n        .play-btn { width: 68px; height: 48px; background: red; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); border-radius: 12%; }\n      </style>\n      <div id="container">\n        <img src="https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg" alt="Video thumbnail" loading="lazy" />\n        <div class="play-btn"></div>\n      </div>`}setupObserver(){const e=new IntersectionObserver(t=>{t[0].isIntersecting&&(this.warmConnections(),e.disconnect())},{rootMargin:"200px"});e.observe(this)}warmConnections(){if(this.isWarmed)return;const e=document.createElement("link");e.rel="preconnect",e.href="https://www.youtube-nocookie.com",document.head.appendChild(e),this.isWarmed=!0}addIframe(){if(this.isWarmed)return;this.isWarmed=!0;const e=document.createElement("iframe");e.width="600",e.height="400",e.src=`https://www.youtube.com/embed/${this.videoId}`,e.allowFullscreen=!0,e.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; web-share",this.shadowRoot?.getElementById("container")?.appendChild(e)}}customElements.get("lite-youtube")||customElements.define("lite-youtube",t),e.LiteYouTube=t});
